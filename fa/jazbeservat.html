<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>âœ¨ Ù‚ÙÙ„ Ú¯Ø´Ø§ÛŒ Ø¬Ø§Ø¯ÙˆÛŒÛŒ Ø«Ø±ÙˆØª âœ¨</title>
  <style>
    :root {
      --background-image: url('https://i.imgur.com/xnaZka8.jpeg');
    }

    * {
      box-sizing: border-box;
      direction: rtl;
    }

    body {
      margin: 0;
      padding: 0 20px;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--background-image) no-repeat center center fixed;
      background-size: cover;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      color: #f0f0f0;
      position: relative;
    }

    body::before {
      content: "";
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0, 0, 0, 0.55);
      z-index: 0;
    }

    form {
      position: relative;
      background: rgba(255, 255, 255, 0.1);
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      width: 100%;
      max-width: 600px;
      z-index: 1;
      margin-top: 20px;
      text-align: right;
    }

    h1 {
      text-align: center;
      color: #fcd34d;
      position: relative;
      font-family: 'Tahoma', sans-serif;
    }

    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }

    nav {
      text-align: center;
      padding: 20px 0 0;
      position: relative;
      z-index: 1;
    }

    nav a {
      color: #fcd34d;
      margin: 0 15px;
      font-weight: bold;
      text-decoration: none;
      transition: color 0.3s ease;
    }

    nav a:hover {
      color: #fffbe6;
    }

    input, textarea, select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border-radius: 10px;
      border: 1px solid #ccc;
      text-align: right;
    }

    button {
      margin-top: 20px;
      background-color: #8b4513;
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 12px;
      cursor: pointer;
      width: 100%;
      font-size: 16px;
    }

    button:hover {
      background-color: #a0522d;
    }

    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      padding: 15px 0;
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(6px);
      display: flex;
      justify-content: center;
      z-index: 999;
      box-shadow: 0 2px 10px rgba(255, 105, 180, 0.2);
    }

    .navbar a {
      font-family: 'Tahoma', cursive;
      color: #fcd34d;
      margin: 0 20px;
      font-size: 1.4em;
      text-decoration: none;
      position: relative;
    }

    .navbar a::after {
      content: '';
      position: absolute;
      width: 0%;
      height: 2px;
      bottom: -5px;
      left: 0;
      background-color: #edff7b;
      transition: width 0.3s ease;
      box-shadow: 0 0 10px #fbff7b;
    }

    .navbar a:hover {
      color: #ffe27b;
      text-shadow: 0 0 10px #fff07b;
    }

    .navbar a:hover::after {
      width: 100%;
    }

    @media (max-width: 520px) {
      body {
        padding: 100px 10px 40px;
      }
      .navbar a {
        font-size: 1.2em;
        margin: 0 10px;
      }
    }
  </style>
</head>
<body>
  
  <nav class="navbar">
    <a href="index.html">Ø¨Ø§Ø²Ú¯Ø´Øª</a>
  </nav>

  <h1>âœ¨ Ø®Ù„Ù‚ Ù†Ù…Ø§Ø¯ Ø¬Ø§Ø¯ÙˆÛŒÛŒ Ø«Ø±ÙˆØª âœ¨</h1>

  <form id="talismForm">
    <input type="hidden" name="lang" value="pt">
    <label>Ù†Ø§Ù… Ú©Ø§Ù…Ù„:</label>
    <input type="text" name="nome" required>

    <label>ØªØ§Ø±ÛŒØ® ØªÙˆÙ„Ø¯:</label>
    <input type="date" name="data_nascimento" required>

    <label>Ø³Ø§Ø¹Øª ØªÙˆÙ„Ø¯ (Ø¯Ø± ØµÙˆØ±Øª Ø§Ø·Ù„Ø§Ø¹):</label>
    <input type="text" name="hora_nascimento">

    <label>Ø´Ù‡Ø± Ùˆ Ú©Ø´ÙˆØ± Ù…Ø­Ù„ ØªÙˆÙ„Ø¯:</label>
    <input type="text" name="local_nascimento">

    <label>Ø¬Ù†Ø³ÛŒØª:</label>
    <select name="genero">
      <option value="Ø²Ù†">Ø²Ù†</option>
      <option value="Ù…Ø±Ø¯">Ù…Ø±Ø¯</option>
      <option value="Ø¯ÛŒÚ¯Ø±">Ø¯ÛŒÚ¯Ø±</option>
    </select>

    <label>Ø´ØºÙ„ ÛŒØ§ Ù…Ø³ÛŒØ± Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ú©Ù†ÙˆÙ†ÛŒ Ø´Ù…Ø§:</label>
    <input type="text" name="profissao">

    <label>Ø§Ø­Ø³Ø§Ø³ Ø´Ù…Ø§ Ø¯Ø± Ø±ÙˆØ²Ù‡Ø§ÛŒ Ø§Ø®ÛŒØ± Ú†Ú¯ÙˆÙ†Ù‡ Ø¨ÙˆØ¯Ù‡ Ø§Ø³ØªØŸ</label>
    <textarea name="sentimentos"></textarea>

    <label>Ø¨Ø²Ø±Ú¯ØªØ±ÛŒÙ† Ø¢Ø±Ø²ÙˆÛŒ Ù…Ø§Ù„ÛŒ Ø´Ù…Ø§ Ø¯Ø± Ø­Ø§Ù„ Ø­Ø§Ø¶Ø± Ú†ÛŒØ³ØªØŸ</label>
    <textarea name="desejo_financeiro"></textarea>

    <label>Ú†Ù‡ Ú†ÛŒØ²ÛŒ Ø±Ø§ Ù…Ø§Ù†Ø¹ Ø¬Ø±ÛŒØ§Ù† Ø«Ø±ÙˆØª Ø¯Ø± Ø²Ù†Ø¯Ú¯ÛŒ Ø®ÙˆØ¯ Ù…ÛŒâ€ŒØ¯Ø§Ù†ÛŒØ¯ØŸ</label>
    <textarea name="bloqueio"></textarea>

    <label>Ú†Ù‡ Ù†ÙˆØ¹ Ø§Ù†Ø±Ú˜ÛŒ ÛŒØ§ Ø¨Ø±Ú©ØªÛŒ Ø±Ø§ Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒØ¯ ÙˆØ§Ø±Ø¯ Ø²Ù†Ø¯Ú¯ÛŒâ€ŒØªØ§Ù† Ø´ÙˆØ¯ØŸ</label>
    <textarea name="energia_desejada"></textarea>

    <label>ğŸ“§ Ø§ÛŒÙ…ÛŒÙ„ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù†Ù…Ø§Ø¯ Ø¬Ø§Ø¯ÙˆÛŒÛŒ Ø«Ø±ÙˆØª:</label>
    <input type="email" name="email" required>

    <button type="submit">ğŸ”“ ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ø§Ù†Ø±Ú˜ÛŒ ÙØ±Ø§ÙˆØ§Ù†ÛŒ Ù…Ù† ğŸ’°</button>
  </form>

  <script>
    document.getElementById("form").addEventListener("submit", async function(event) {
      event.preventDefault();

      const form = event.target;
      const formData = {};
      const pathSegments = window.location.pathname.split('/');
  const lang = pathSegments[1] || 'pt';  // pt Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø§Ú¯Ø± Ù†Ø¨ÙˆØ¯

  formData.lang = lang; // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¨Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§
      [...form.elements].forEach(el => {
        if (el.name) formData[el.name] = el.value;
      });

     

      const paymentTab = window.open('', '_blank');

      try {
        const response = await fetch("https://hook.eu2.make.com/v4qy43jd0z6igcu4ankq445b5lp7opmd", {
          method: "POST",
          body: JSON.stringify(formData),
          headers: { "Content-Type": "application/json" }
        });

        if (!response.ok) throw new Error("Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ø¯Ø±Ø®ÙˆØ§Ø³Øª");

        const data = await response.json();

        if (data.payment_url) {
          paymentTab.location.href = data.payment_url;
        } else if (data.message) {
          paymentTab.document.write("<pre>${data.message}</pre>");
          paymentTab.document.title = "Ù†ØªÛŒØ¬Ù‡ Ù†Ù…Ø§Ø¯ Ø¬Ø§Ø¯ÙˆÛŒÛŒ";
        } else {
          paymentTab.document.write("<pre>Ù¾Ø§Ø³Ø® Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯ØŒ Ø§Ù…Ø§ ÙØ±Ù…Øª Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡ Ø¨ÙˆØ¯.</pre>");
          paymentTab.document.title = "Ù†ØªÛŒØ¬Ù‡ Ù†Ù…Ø§Ø¯ Ø¬Ø§Ø¯ÙˆÛŒÛŒ";
        }
      } catch (error) {
        paymentTab.close();
        alert("Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ ÙØ±Ù…: " + error.message);
      }
    });
  </script>
</body>
</html>
